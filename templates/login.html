<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Resource sharing</title>
  <link rel="stylesheet" href="../static/css/material.min.css">
  <!-- <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.green-pink.min.css" /> -->
  <!-- <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.green-red.min.css" /> -->
  <link rel="stylesheet" href="../static/css/material-icons.css">
  <!-- <link rel="stylesheet" href="../static/css/animate.css"> -->
  <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>
<div class="mdl-spinner mdl-js-spinner login_loading low"></div>
<div id="demo-toast-example" class="mdl-js-snackbar mdl-snackbar">
  <div class="mdl-snackbar__text"></div>
  <button class="mdl-snackbar__action" type="button"></button>
</div>
<div class="wx-scopy">
  <div class="top-logo">
    <h2>资源分享平台</h2>
  </div><!--top-logo end-->
  <div class="ribbon mdl-shadow--2dp">
    <button class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-shadow--2dp mdl-color--accent switch-status" name="switch-status-more"></button>
    <div class="ripple_position">
      <button id="login_btn" class="animated mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-shadow--2dp switch-status" disabled>
        <i class="material-icons">perm_identity</i>
      </button>
      <div class="switch_mark"></div>
    </div>
    <div class="ripple_position">
      <button id="register_btn" class="animated mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-shadow--2dp mdl-color--accent switch-status">
        <i class="material-icons">add</i>
      </button>
      <div class="switch_mark"></div>
    </div>
    <div class="ripple_position">
      <button id="forget_btn" class="animated mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-shadow--2dp mdl-color--accent switch-status">
        <i class="material-icons">warning</i>
      </button>
      <div class="switch_mark" style="bottom: -67px;"></div>
    </div>
    <!-- <div class="ribbon_bg"></div> -->
  </div><!--ribbon end-->
  <main class="mdl-grid">
    <div class="login-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--3-col">
      <form action="#" method="post" action="" name="login_form">
        <div class="form_title">Login</div>
        <div class="full mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          <input class="mdl-textfield__input" type="text" name="account" />
          <label class="mdl-textfield__label" for="account">用户名或邮箱</label>
          <span class="error"></span>
        </div>
        <div class="full mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          <input class="mdl-textfield__input" type="password" name="password" />
          <label class="mdl-textfield__label" for="password">密码</label>
          <span class="error"></span>
        </div>
        <!-- <div class="full mdl-textfield mdl-js-textfield mdl-textfield--floating-label vericode">
          <input class="mdl-textfield__input" type="text" id="vcode" name="vcode" />
          <label class="mdl-textfield__label" for="vcode">输入验证码</label>
          <span class="error"></span>
          <img src="../static/img/vericode.jpg" th:src="@{/vericode.jpg}">
        </div> -->
        <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect remember" for="remember">
          <input type="checkbox" id="remember" class="mdl-checkbox__input">
          <span class="mdl-checkbox__label">记住我</span>
        </label>
        <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect login-btn" type="button">登录</button>
        <!-- <div class="full po-re">
          <div class="alt-path"><span>没有账号? <a href="register.html" th:href="@{/register}" class="signup-link">即刻注册</a></span></div>
          <a href="#" class="forget-password">忘记密码?</a>
        </div> -->
      </form>
      <form action="#" method="post" action="" name="register_form">
        <div class="form_title">Register</div>
        <div class="full mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          <input class="mdl-textfield__input" type="text" name="accountid" pattern="^\w+$"/>
          <label class="mdl-textfield__label" for="accountid">用户名（唯一且无法修改）</label>
          <span class="mdl-textfield__error">由数字、26个英文字母或下划线组成</span>
          <!-- <span class="mdl-textfield__error" style="margin-top: 20px;">由数字、英文字母或者下划线组成</span> -->
        </div>
        <div class="full mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          <input class="mdl-textfield__input" type="email" name="email" pattern="[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?"/>
          <label class="mdl-textfield__label" for="email">邮箱</label>
          <span class="mdl-textfield__error">这不像是个邮箱</span>
        </div>
        <div class="full mdl-textfield mdl-js-textfield mdl-textfield--floating-label setpw" id="setpw">
          <input class="mdl-textfield__input" type="text" name="setpw"/>
          <label class="mdl-textfield__label" for="setpw">密码</label>
          <span class="mdl-textfield__error">密码不允许有中文字符</span>
        </div>
        <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect login-btn full" type="button">注册</button>
      </form>
    </div><!--login-content end-->
  </main>
  <footer id="footer" class="footer_in_bottom">
      Copyright &copy; 2017 breadem.com
      
      <ul class="f-menu">
          <li><a href="#">发送反馈</a></li>
          <li><a href="#">帮助</a></li>
          <li><a href="#">联系我们</a></li>
      </ul>
  </footer>
</div><!--wx-scopy end-->

<script src="../static/js/jquery-1.11.3.min.js"></script>
<script src="../static/js/material.min.js"></script>
<!-- <script src="https://code.getmdl.io/1.3.0/material.min.js"></script> -->
<script>
  var touchtime = new Date().getTime();
  $("[name='switch-status-more']").on("click", function(){      //快捷入口
    if( new Date().getTime() - touchtime < 150 ){     //防止无聊人士快速双击
        setTimeout(function(){$(".switch-status").removeClass("show");}, 151);
        setTimeout(function(){$("[name='switch-status-more']").removeClass("open");}, 151);
    }else{
      touchtime = new Date().getTime();
      if($(".switch-status").hasClass("show")){
        $(".switch-status").removeClass("show");
        $("[name='switch-status-more']").removeClass("open");
      }
      else{
        setTimeout(function(){$("[name='switch-status-more']").addClass("open");}, 10);
        setTimeout(function(){$("#login_btn").addClass("show");}, 0);
        setTimeout(function(){$("#register_btn").addClass("show");}, 50);
        setTimeout(function(){$("#forget_btn").addClass("show");}, 150);
      }
      $(".wx-scopy").on("click", function(){
        $(".switch-status").removeClass("show");
        $("[name='switch-status-more']").removeClass("open");
      })
    }
  });
  $(document).on("click", "#login_btn, #register_btn", function(){    //登录、注册或忘记密码按钮  #forget_btn
    var mark = $(this).next(".switch_mark");
    mark.addClass("is-active");    //全屏涟漪
    $(".login_loading").removeClass("low");     //改变loading动效层级  上一层
    $(".wx-scopy").addClass("anti-overflow");      //涟漪不超出body
    setTimeout(function(){$(".login_loading").addClass("is-active");}, 200);    //加载loading
    setTimeout(function(){
      mark.addClass("remove");        //删掉蒙板和loading
      $(".login_loading").removeClass("is-active");
    }, 2000);
    setTimeout(function(){
      mark.removeClass("is-active remove");
      $(".login_loading").addClass("low");
      $(".wx-scopy").removeClass("anti-overflow");
    }, 3000);
  })
  $(document).on("click", "#login_btn, #register_btn, #forget_btn", function(){   //切换登录、注册、忘记密码
    $(".switch-status").removeAttr("disabled");
    $(".switch-status").addClass("mdl-button--colored");
    $(this).attr("disabled","true");
    $(this).removeClass("mdl-color--accent");
  })
  $(document).on("click", "#login_btn", function(){   //切换成登录
    setTimeout(function(){
      $("[name='login_form']").show(300);
      $("[name='register_form']").hide(300);
    }, 200);
  })
  $(document).on("click", "#register_btn", function(){   //切换成注册
    setTimeout(function(){
      $("[name='register_form']").show(300);
      $("[name='login_form']").hide(300);
    }, 200);
  })
  // 判断密码是否有中文   未完成
//   $("[name='setpw']").bind('input propertychange', function() {    
// 　　var a=$("[name='setpw']").val();
//     var reg=new RegExp("[\u4e00-\u9fa5]+");
//     var o=reg.test(a);
//     console.log(o);
//     if(o == null){
//       console.log("没有中文");
//     }
//     else{
//       console.log("有中文");
//     }
//   });
</script>
<!-- 提示 -->
<script>
  (function() {
    'use strict';
    var snackbarContainer = document.querySelector('#demo-toast-example');
    var showToastButton = document.querySelector('#forget_btn');
    showToastButton.addEventListener('click', function() {
      'use strict';
      var data = {message: '尚未完善'};
      snackbarContainer.MaterialSnackbar.showSnackbar(data);
    });
  }());
</script>
</body>
</html>